<!doctype html>
<html lang="en">
  <head th:replace="snippets.html :: name_head"></head>
  <body>
    <nav th:replace="snippets.html :: name_app_navbar"></nav>
    <div class="container">
      <div class="row my-4">
        <h4>Orders</h4>
        <div class="ml-auto">
          <button type="button" class="btn btn-primary btn-sm" id="create-order-button">
            <i class='fa fa-plus mr-1'></i>Create Order
          </button>
        </div>
      </div>
      <div class="card">
          <table class="table table-striped" id="order-table">
            <thead></thead>
            <tbody></tbody>
          </table>
      </div>
      

      <!-- create order Modal -->
      <div class="modal" tabindex="-1" role="dialog" id="create-order-modal">
        <div class="modal-dialog modal-xl" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Create Order</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="row my-4">
                <div class="col-12">
                  <form class="align-items-baseline form-inline" id="add-order-item-form">
                    <div class="form-group col-4">
                      <label for="inputBarcode" class="col-form-label required">Barcode</label>
                      <select class="form-control form-control-sm ml-2" name="barcode" id="inputBarcode">
                        <option value='' disabled selected style='display: none'>Select Barcode</option>
                      </select>
                    </div>
                    <div class="form-group col-4">
                      <label for="inputQuantity" class="col-form-label required">Quantity</label>
                      <input type="number" class="form-control form-control-sm ml-2" name="quantity" id="inputQuantity">
                      <div id="available-quantity-field-create-order"></div>
                    </div>
                    <div class="form-group col-4">
                      <label for="inputSellingPrice" class="col-form-label required">Selling Price</label>
                      <input type="number" class="form-control form-control-sm ml-2" name="sellingPrice" id="inputSellingPrice">
                      <div id="mrp-field-create-order"></div>
                    </div>
                  </form>
                </div>
              </div>
              <div class="row mb-4">
                <button type="button" class="btn btn-sm btn-primary" id="add-item" style="margin-left: auto;margin-right: 40px">
                  <i class='fa fa-plus mr-1'></i>Add Item
                </button>
              </div>
              <div class="row mx-2">
                <div class="col-12">
                  <form class="form-inline" id="order-list-form">
                    <table class="table table-striped" id="order-item-table">
                      <thead></thead>
                      <tbody></tbody>
                    </table>
                  </form>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger btn-sm" id="cancel-create">
                <i class='fa fa-close mr-1'></i>Cancel
              </button>
              <button type="button" class="btn btn-primary btn-sm" id="create-order">
                <i class='fa fa-check mr-1'></i>Create
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- View order Modal -->
      <div class="modal" tabindex="-1" role="dialog" id="view-order-modal">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="view-order-modal-title">View Order</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="col-12">
                <div class="card">
                  <table class="table table-striped" id="view-order-table">
                    <thead></thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <b><div class="row my-2 mx-4" id="view-order-total-amount" style="text-align: right">Total Amount</div></b>
            </div>
          </div>
        </div>
      </div>

      <!-- Edit order Modal -->
      <div class="modal" tabindex="-1" role="dialog" id="edit-order-modal">
        <div class="modal-dialog modal-xl" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="edit-order-modal-title">Edit Order</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="row my-4">
                <div class="col-12">
                  <form class="align-items-baseline form-inline" id="edit-add-order-item-form">
                    <div class="form-group col-4">
                      <label for="inputBarcodeEditOrder" class="col-form-label required">Barcode</label>
                      <select class="form-control form-control-sm ml-2" name="barcode" id="inputBarcodeEditOrder">
                        <option value='' disabled selected style='display: none'>Select Barcode</option>
                      </select>
                    </div>
                    <div class="form-group col-4">
                      <label for="inputQuantityEditOrder" class="col-form-label required">Quantity</label>
                      <input type="number" class="form-control form-control-sm ml-2" name="quantity" id="inputQuantityEditOrder">
                      <div id="available-quantity-field-edit-order"></div>
                    </div>
                    <div class="form-group col-4">
                      <label for="inputSellingPriceEditOrder" class="col-form-label required">Selling Price</label>
                      <input type="number" class="form-control form-control-sm ml-2" name="sellingPrice" id="inputSellingPriceEditOrder">
                      <div id="mrp-field-edit-order"></div>
                    </div>
                  </form>
                </div>
              </div>
              <div class="row mb-4">
                <button type="button" class="btn btn-sm btn-primary" id="edit-add-item" style="margin-left: auto;margin-right: 40px">
                  <i class='fa fa-plus mr-1'></i>Add Item
                </button>
              </div>
              <div class="col-12">
                <form class="form-inline" id="edit-order-list-form">
                  <table class="table table-striped" id="edit-order-item-table">
                    <thead></thead>
                    <tbody></tbody>
                  </table>
                </form>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger btn-sm" id="cancel-order">
                <i class='fa fa-close mr-1'></i>Cancel Order
              </button>
              <button type="button" class="btn btn-primary btn-sm" id="update-order">
                <i class='fa fa-check mr-1'></i>Update
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer th:replace="snippets.html :: name_footer"></footer>
    <script th:src="@{/static/orders.js}"></script>
    <div hidden class="user-role"><span th:text="${info.getRole()}"></span></div>
  </body>
</html>